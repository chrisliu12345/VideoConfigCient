
<link rel="stylesheet" href="/css/bootstrapStyle/bootstrapStyle.css" type="text/css">
<!--<script type="text/javascript" src="../../../sysim/js/jquery.min.js"></script>-->
<script type="text/javascript" src="../../../sysim/zTree/jquery.ztree.all.js"></script>
<div class="hbox hbox-auto-xs hbox-auto-sm" ng-init="
    app.settings.asideFolded = false;
    app.settings.asideDock = false;
  ">
    <div class="wrapper-md" ng-controller="alarmCtrl as showCase">

        <div class="container">
            <div class="row">

                <div class="panel panel-default col-xs-12" ng-show="query_plan" >
                    <div class="panel-heading">
                        {{'baojing'|translate}}
                        <ul class="nav nav-pills pull-right">
                            <li style=" padding-top:4px; padding-right:4px;width: 100%;height: 100%">
                                <button class="btn m-b-xs btn-sm btn-primary" ng-click="showCase.add()">{{'add'|translate}}
                                </button>
                            </li>

                        </ul>
                    </div>
                    <div class="panel-body">
                        <div>
                            <input type="button" ng-click="showCase.removeAllPlan()" value="{{'alldetele'|translate}}" class="btn  btn-danger btn-sm" ng-show="myWar" >
                            <input type="button" ng-click="showCase.removeAllPlan()" value="{{'batchdel'|translate}}" class="btn btn-info btn-sm"><br>

                        </div>

                        <form class="form-inline" >
                            <table datatable id="alarmList" dt-dataset="dtDataset" dt-options="dtOptions" dt-columns="dtColumns" class="table table-striped table-bordered" >
                            </table>
                        </form>

                    </div>
                </div>


                <!--新增摄像机录像计划1.-->
                <div class="panel panel-default col-xs-5" ng-show="addSave_Plan">
                    <div class="panel-heading" width=100% >
                        1.{{'selectalarm'|translate}}<br>
                     &nbsp;&nbsp;&nbsp;
                        <!--<input id="searchCamera" type="text"  ng-model="CameraN" placeholder="请输入报警设备名称">
                        <button class="btn m-b-xs btn-sm btn-primary" ng-click="searchCameraNodes1()">搜索
                        </button>-->
                        <ul class="nav nav-pills pull-right">
                            <li style=" padding-top:4px; padding-right:4px;">
                                <button class="btn m-b-xs btn-sm btn-success" ng-click="showCase.queryPlan()">{{'viewalarm'|translate}}
                                </button>
                                <button class="btn m-b-xs btn-sm btn-primary" ng-click="showCase.selectAndContinue()">{{'addalarmconfig'|translate}}
                                </button>
                            </li>

                        </ul>
                    </div>
                    <div class="panel-body">
                        <div class="form-group">

                            <div class="col-md-12" >
                                <ul   my-dir-alarm class="ztree"  id="treeAlarm" ng-model="selectNodeAlarm"></ul>


                            </div>

                        </div>
                    </div>
                </div>

                <div class="panel panel-default col-md-6" ng-show="select_plan">
                    <form name="form1" role="form" class="form-horizontal form-validation">
                        <div class="modal-header">
                            <h3 class="modal-title" align="center">{{'addalarmconfig'|translate}}</h3>
                        </div>
                        <div class="modal-body">
                            <div class="form-group">
                                <div class="col-md-3">
                                    <label>{{'fanyi49'|translate}}</label>
                                </div>

                                <div class="col-md-9">
                                    <input type="text" class="form-control" ng-model="alarm.Alarm_event_name"
                                           placeholder="{{'fanyi092'|translate}}" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-3">
                                    <label>{{'fanyi50'|translate}}</label>
                                </div>

                                <div class="col-md-9">
                                    <input type="text" class="form-control" ng-model="alarm.Input_channel"
                                           placeholder="{{'fanyi092'|translate}}" required>
                                </div>
                            </div>

                            <div class="form-group">
                                <div class="col-md-3">
                                    <label>{{'fanyi51'|translate}}</label>
                                </div>

                                <div class="col-md-9">

                                    <select class="form-control" ng-model="alarm.AlarmMethod" ng-init="alarm.AlarmMethod='1'"
                                            ng-change="chanegAlarmMethod()" required>
                                        <option value="1">1：{{'fanyi52'|translate}}</option>
                                        <option value="2">2：{{'fanyi53'|translate}}</option>
                                        <option value="3">3：{{'fanyi54'|translate}}</option>
                                        <option value="4">4：{{'fanyi55'|translate}}</option>
                                        <option value="5">5：{{'fanyi56'|translate}}</option>
                                        <option value="6">6：{{'fanyi57'|translate}}</option>
                                        <option value="7">7：{{'fanyi58'|translate}}</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group" ng-show="showSelect">
                                <div class="col-md-3">
                                    <label>{{'fanyi59'|translate}}</label>
                                </div>
                                <div class="col-md-9">
                                    <select class="form-control" ng-model="alarm.AlarmType">
                                        <option ng-repeat="x in sites" value="{{x.value}}">{{x.name}}</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-3">
                                    <label>{{'fanyi60'|translate}}</label>
                                </div>

                                <div class="col-sm-9">
                                    <ui-select multiple ng-model="mutinput.users" theme="bootstrap">
                                        <ui-select-match placeholder="{{'fanyi61'|translate}}...">{{$item.realName}}</ui-select-match>
                                        <ui-select-choices repeat="item in userList | filter: $select.search">
                                            <div ng-bind-html="item.realName | highlight: $select.search"></div>
                                            <small ng-bind-html="item.phone | highlight: $select.search"></small>
                                        </ui-select-choices>
                                    </ui-select>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-3">
                                    <label>{{'fanyi62'|translate}}</label>
                                </div>

                                <div class="col-sm-9">
                                    {{'fanyi63'|translate}}：<input type="checkbox" ng-model="work1" ng-checked="false"
                                               ng-click="showCase.updateSelectionAllA($event,'A1')">&nbsp;&nbsp;
                                    {{'fanyi64'|translate}}：<input type="checkbox" ng-model="work2" ng-checked="false"
                                               ng-click="showCase.updateSelectionAllA($event,'A2')">&nbsp;&nbsp;
                                    {{'fanyi091'|translate}}：<input type="checkbox" ng-model="work3" ng-checked="false"
                                               ng-click="showCase.updateSelectionAllA($event,'A3')">&nbsp;&nbsp;
                                    {{'fanyi65'|translate}} ：<input type="checkbox" ng-model="work4" ng-checked="false"
                                               ng-click="showCase.updateSelectionAllA($event,'A4')">&nbsp;&nbsp;
                                </div>
                            </div>

                            <div class="form-group">
                                <div class="col-md-3">
                                    <label>{{'fanyi66'|translate}}</label>
                                </div>

                                <div class="col-md-9">

                                    <button class="btn btn-default" type="button" ng-click="showCase.selectquanxian1()">
                                        {{'fanyi67'|translate}}
                                    </button>
                                    <span class="glyphicon glyphicon-ok" ng-show="selectLinkCamera"></span>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-3">
                                    <label>{{'fanyi68'|translate}}</label>
                                </div>

                                <div class="col-md-9">
                                    <input type="text" class="form-control" ng-model="alarm.Linkage_Info"
                                          >
                                </div>
                            </div>
                        </div>



                            <div class="modal-footer">
                                <button class="btn btn-primary" type="button" ng-disabled="form1.$invalid"
                                        ng-click="showCase.submit()">{{'fanyi45'|translate}}
                                </button>
                                <button class="btn btn-warning" type="button" ng-click="showCase.cancel()">{{'quxiao'|translate}}</button>
                            </div>
                        </div>
                    </form>
                </div>
                    </form>
            </div>
        </div>
    </div>
</div>

